<p>
<form class="form-horizontal" role="form" style="width:542px">
  <div class="form-group">
    <label for="password" class="col-sm-3 control-label">交易密码</label>
    <div class="col-sm-8">
      <input type="password" class="form-control" id="password" placeholder="">
      <span class="help-block" name="password"></span>
    </div>
  </div>
  <div class="form-group">
    <label for="repeat_password" class="col-sm-3 control-label">确认密码</label>
    <div class="col-sm-8">
      <input type="password" class="form-control" id="repeat_password" placeholder="">
      <span class="help-block" name="repeat_password"></span>
    </div>
  </div>
  <div class="form-group">
    <label for="phone_captcha" class="col-sm-3 control-label">手机验证码</label>
    <div class="col-sm-8">
      <input type="password" class="form-control" id="phone_captcha" placeholder="">
      <span class="help-block" name="phone_captcha"></span>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-8">
      <button type="button" class="btn btn-warning" onclick="do_register_online()">确定</button>
    </div>
  </div>
</form>
<script type="text/javascript">
function do_register_online(){
  var password = $("#profile #password").val();
  var repeat_password = $("#profile #repeat_password").val();
  var phone_captcha = $("#phone_captcha").val();

  $("span.help-block").html("")
  if (password == null || password == ""){
    $AlertBox({appendTo:$("span[name=password]"), html:"交易密码不能为空"}).show();
    $("#password").focus();
    return false;
  }
  if (repeat_password != password){
    $AlertBox({appendTo:$("span[name=repeat_password]"), html:"确认交易密码错误"}).show();
    $("#repeat_password").focus();
    return false;
  }
  if (phone_captcha == ""){
    $AlertBox({appendTo:$("span[name=phone_captcha]"), html:"手机验证码不能为空"}).show();
    $("#phone_captcha").focus();
    return false;
  }
  
  $.ajax({
      url: "/basic/find-pay-pass2",
      type:"post",
      dataType:"json",
      data:encodeURI("password={0}".format(SHA1(password))),
      success: function(response){
        $("#register_online_confirm_box").tClose();
        if (response.result.return_code == 0){
          $MsgBox({message:"成功充值密码!", appendTo:$("#container")}).show()
        }else{
          $MsgBox({message:response.result.return_message, appendTo:$("#container")}).show()
        }
      }
  })
}
</script>
</p>
